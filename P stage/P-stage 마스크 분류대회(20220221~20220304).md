# P-stage ë§ˆìŠ¤í¬ ë¶„ë¥˜ëŒ€íšŒ(20220221~20220304)

# ê²°ê³¼

- **public â†’ 1 / 48ë“±**
    - **f1:  0.8022, acc:83.7132**
- **private â†’ 1 / 48ë“±**
    - **f1:  0.7959 , acc: 83.0000**
- [ê¹ƒí—ˆë¸Œ](https://github.com/boostcampaitech3/level1-image-classification-level1-nlp-03)

# TIL

- í…ì„œë³´ë“œ(Tensorboard)
    - smoothing ì˜µì…˜ 0ìœ¼ë¡œ ì¤˜ì•¼ í™•ì‹¤í•œ ê°’ ë³¼ ìˆ˜ ìˆìŒ!
    - grid_imageì˜ ì¸ì n ìˆ˜ì •í•˜ë©´ í…ì„œë³´ë“œ ìƒì— ëœ¨ëŠ” ì´ë¯¸ì§€ ìˆ«ì ëŠ˜ë¦´ ìˆ˜ ìˆìŒ!
    
    ```python
    def grid_image(np_images, gts, preds, n=32, shuffle=False):
    ```
    
    - local ë§ê³  ì¡°ì›ê³¼ ê³µìœ í•˜ë ¤ë©´ (**ğŸ™ì‹œí˜„ë‹˜ , [í˜ë¶ë§í¬](https://www.facebook.com/groups/TensorFlowKR/posts/1030430097298048/))**
    
    ```bash
    root@ : ~/model# tensorboard --logdir . --bind_all
    ```
    
- GPUì„œë²„ vscodeì—°ê²°(**ğŸ™[í˜„ì§€ë‹˜](https://www.notion.so/AIStage-3e8ac3b8b8104628a0a6df971b50fa39))**
    - ê²ªì€ ì˜¤ë¥˜
        - ì„¸í´ë ˆì´ì…˜ : / â†’ \\ ë¡œ í•´ì•¼ í•¨!
        - Could not establish connection to ~ipì£¼ì†Œ : ê²½ë¡œì— í•œê¸€ ë“¤ì–´ê°€ì§€ ì•Šê²Œ + .ssh íŒŒì¼ì— ë„£ìŒ!
        - Connect to Host(Windows) í•  ë•Œ Enter  password : Linuxë¡œ í•˜ë©´ ë¨..
- tqdm
    - for idx, train_batch in enumerate(train_loader): â†’ for idx, train_batch in enumerate(tqdm(train_loader)):
    - inference ì‹œì— tqdmê°€ëŠ¥! (inference.pyì— import í•˜ê³  train.pyì—ì„œì™€ ë§ˆì°¬ê°€ì§€ë¡œ enumerate(tqdm(loader)) í•˜ë©´ ë¨!)
    - tqdm(enumerate(train_loader)): í•˜ë©´ ì •ë³´ ì¶œë ¥ ì˜ ì•ˆë¨!
        - [**ì°¸ê³  ê¸€**](https://jangjy.tistory.com/395)
    
    ```python
    from tqdm import tqdm
    for idx, train_batch in enumerate(tqdm(train_loader)):
    ```
    
- IDE ë‹¨ì¶•í‚¤(vscode)
    - ctrl + í´ë¦­ : ë‚´ë¶€ì½”ë“œ ë³¼ ìˆ˜ ìˆìŒ!
    - (ctrl + k) + (ctrl + s) â†’ ë°”ë¡œê°€ê¸° í‚¤ ìˆ˜ì •
    - ctrl + p : ë„¤ë¹„ê²Œì´ì…˜
    - bookmarks : extension ì—ì„œ bookmarks ì„¤ì¹˜
        - ctrl+alt+k â†’ ë¶ë§ˆí¬ ì§€ì •,ì·¨ì†Œ
        - ctrl+alt+L â†’ ë‹¤ìŒêº¼ íƒìƒ‰
        - ctrl+alt+J â†’ ì „ êº¼ íƒìƒ‰
        - ì˜¤ë¥˜ : ë¶ë§ˆí¬ ì§€ì •í•˜ë©´ ê°™ì€.pyíŒŒì¼ ì•ˆì—ì„œë§Œ ì´ë™ê°€ëŠ¥í–ˆì—ˆìŒ(>Bookmarks: List from All Files ì‹¤í–‰ ì‹œ ì•ˆ ëœ¸ ) â†’ íŒŒì¼ ì—´ê¸°ë¡œ workspace ì§€ì •í•˜ë‹ˆ ë¨!(íŒŒì¼ ê°„ ì´ë™ê°€ëŠ¥)
- torchvision.transforms
    - pë¥¼ ì¸ìë¡œ ë°›ëŠ” ê²½ìš°, ëª¨ë“  ì´ë¯¸ì§€ì— ì ìš©ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ í™•ë¥ ì ìœ¼ë¡œ! Ex: verticalflip
    - í™•ë¥ ì¸ìê°€ ì—†ë‹¤ë©´ ëª¨ë‘ ì ìš© Ex: RandomCrop
- ê¹ƒí—ˆë¸Œ
    - octotree : ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œì˜ í´ë”,íŒŒì¼ êµ¬ì¡°ê°€ íŠ¸ë¦¬ í˜•íƒœë¡œ ì‰½ê²Œ ë³¼ ìˆ˜ ìˆìŒ!(**ğŸ™[ë§í¬](https://tttsss77.tistory.com/55))**
    - íŒŒì¼ í•œ ê°œ ë‹¤ìš´ë¡œë“œ : ê¹ƒí—ˆë¸Œ Raw â†’ ctrl+s (xmlì€ ë˜ëŠ”ë°, ~~ipynbëŠ” textë¡œ ë°›ì•„ì§..~~ â€”> íŒŒì¼í˜•ì‹ Text Documnet â†’ ëª¨ë“  íŒŒì¼ ë¡œ í•˜ë©´ ë¨!)
    
    ![https://user-images.githubusercontent.com/46811558/156138811-3f9adb3f-4856-4178-b837-7ed88e851ae8.JPG](https://user-images.githubusercontent.com/46811558/156138811-3f9adb3f-4856-4178-b837-7ed88e851ae8.JPG)
    
- íŒŒì´ì¬
    - pprint : ì´ì˜ê²Œ ì¶œë ¥!
- ë…¸ì…˜
    - ~ ê¸€ ~ : ê³µë°± ì§€ìš°ë©´ ê¸€ì— ì·¨ì†Œì„  Ex: ~~ì·¨ì†Œì„ ~~
- GPU
    - í„°ë¯¸ë„ì—ì„œ nvidia-smi **([í‘œ ë³´ëŠ” ë²• ë§í¬](https://kyumdoctor.co.kr/10))**
        - [**(MiB vs MB ì°¸ê³ ë§í¬)**](https://brunch.co.kr/@leedongins/133)
    - ë…¸íŠ¸ë¶ í™˜ê²½
    
    ```python
    import torch
    torch.cuda.is_available()
    ```
    
- ëª¨ë¸
    - SOTA ì°¾ê¸°
        - [**timm**](https://github.com/rwightman/pytorch-image-models#introduction)
        - [**paperswithcode**](https://paperswithcode.com/)
- ëœë¤ì‹œë“œ(**ğŸ™ì¸ì‹ë‹˜)**
    - ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ë™ì¼í•˜ ì¡°ê±´ì—ì„œ ë™ì¼í•˜ê²Œ ë³µêµ¬ í•  ìˆ˜ ìˆì–´ì•¼ í•¨! ì‹¤í—˜ ê´€ë¦¬ì— êµ‰ì¥íˆ ì¤‘ìš”!
    - ê´€ë¡€ìƒ **42**ë¡œ ê³ ì •! [**(ì°¸ê³  ê¸€)**](https://rchoi-19-4-2.tistory.com/159)
- ì•™ìƒë¸”
    - í•˜ë“œë³´íŒ… : labelë¡œ ì•™ìƒë¸”(csvë¡œ..?)
    - ì†Œí”„íŠ¸ë³´íŒ… : í™•ë¥ ë¡œ ì•™ìƒë¸”
    - Weighted ë³´íŒ… : ì•™ìƒë¸” í•  ë•Œ,  ê° ëª¨ë¸ë³„ë¡œ ê°€ì¤‘ì¹˜ ì¤Œ
- ê¸°íƒ€
    - ctrl + shift + r : í˜ì´ì§€ ìºì‹œ ì§€ìš°ê¸°
- nohup
    - no hang up!
    - [**ì°¸ê³ ë§í¬**](https://joonyon.tistory.com/98)
- tmux
    - Terminal Multiplexer
    - [**ì°¸ê³ ë§í¬**](https://hbase.tistory.com/200)
- bash
    - Experiment.txt íŒŒì¼ì—ì„œ í•œ ì¤„ì”© ì¼ì¼ì´ ë³µë¶™í•˜ëŠ”ê²ƒë³´ë‹¨ ì„¸ì—°ë‹˜ì´ ë§Œë“¤ì–´ì£¼ì‹  train.shíŒŒì¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê´€ë¦¬ì¸¡ë©´ì—ì„œ í›¨ì”¬ ì¢‹ìŒ!
        
        ```bash
        bash train.sh
        sh train.sh
        ```
        
        - bash train.sh  , sh train.sh ë‘˜ ë‹¤ ê°€ëŠ¥!
            - [**bash vs sh ì°¸ê³ ë§í¬**](https://www.google.com/search?q=bash+vs+sh&sxsrf=APq-WBuEzeDO9Uy-nVDk1tLGltqUunNl_A%3A1646798653081&ei=PScoYvGPBJDR2roPlJ-X2A0&ved=0ahUKEwixou6Fk7j2AhWQqFYBHZTPBdsQ4dUDCA4&uact=5&oq=bash+vs+sh&gs_lcp=Cgdnd3Mtd2l6EAMyBQgAEIAEMgUIABCABDIFCAAQgAQyBQgAEIAEMgUIABCABDIFCAAQgAQyBQgAEIAEMgQIABAeMgUIABDLATIFCAAQywE6BwgjEOoCECc6BAgjECc6EQguEIAEELEDEIMBEMcBENEDOg4ILhCABBCxAxDHARCjAjoICC4QgAQQsQM6CwgAEIAEELEDEIMBOgoIABCABBCHAhAUOggIABCABBCxAzoECC4QAzoNCAAQgAQQhwIQsQMQFDoQCAAQgAQQhwIQsQMQgwEQFEoECEEYAEoECEYYAFAAWPIUYOQVaAVwAHgBgAG1AYgBhQuSAQQwLjEwmAEAoAEBsAEKwAEB&sclient=gws-wiz)
    - ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´ ì´ìš©í•˜ë©´, íŒŒì¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ ì‹œê°„ í›¨ì”¬ ì ˆì•½ ê°€ëŠ¥
    - [**ì°¸ê³ ë§í¬**](https://velog.io/@jekim5418/Shell-Script-vi-%EC%9E%91%EC%84%B1)
- í„°ë¯¸ë„ ì‹¤í–‰ì¢…ë£Œ
    - ctrl + c
    - í„°ë¯¸ë„ íœ´ì§€í†µ!
    
    ![https://user-images.githubusercontent.com/46811558/156290480-bba4bbe6-b899-41a4-b74e-abaf5c14a31e.JPG](https://user-images.githubusercontent.com/46811558/156290480-bba4bbe6-b899-41a4-b74e-abaf5c14a31e.JPG)
    

# ëª¨ë¸

- baseline : SwinTransformerLarge384(ğŸ™ì„¸ì—°ë‹˜)
    - [ëª¨ë¸](https://github.com/boostcampaitech3/level1-image-classification-level1-nlp-03/tree/main/PSY)(Github)
        - [**pretrained Models ë‹¤ìš´ë¡œë“œ ë§í¬**](https://github.com/SwinTransformer/storage/releases/download/v1.0.0/swin_large_patch4_window12_384_22k.pth)
    - ì„¤ëª…
        - [ìœ íŠœë¸Œ1 :](https://www.youtube.com/watch?v=L3sH9tjkvKI&t=3s) ë…¼ë¬¸ìŠ¤í„°ë”” ë¦¬ë·°, 20ë¶„, 1.25ë°°, ê¸€ê³¼ ë¹„ìŠ·
        - [ìœ íŠœë¸Œ2 :](https://www.youtube.com/watch?v=2lZvuU_IIMA) DSBAì—°êµ¬ì‹¤ ë¦¬ë·°, 40ë¶„, 1.5ë°°, vit â†’ swin ë°œì „ ê³¼ì •
        - [ê¸€](https://visionhong.tistory.com/31)

# baseline ë³€ê²½

- dataset.py
    - ageband : (30,60) â†’ (29,57), (29,58) , (29,59) (**ğŸ™íƒœì¼ë‹˜)**
    
    ![https://user-images.githubusercontent.com/46811558/156015632-b30a6bd2-aa0d-4ba3-8c6f-0a2dfd8fb7db.JPG](https://user-images.githubusercontent.com/46811558/156015632-b30a6bd2-aa0d-4ba3-8c6f-0a2dfd8fb7db.JPG)
    
    - random.choices(ë³µì› ì¶”ì¶œ) â†’ random.sample(ë¹„ë³µì› ì¶”ì¶œ)  (**ğŸ™ìƒë ¬ë‹˜,ì£¼ì˜ë‹˜)**
        - setì„ ì¨ì„œ ì¤‘ë³µì€ ì œê±° ë˜ê² ì§€ë§Œ.. ì œê±°ëœ ë§Œí¼ ì†Œì¤‘í•œ valì´ ì‚¬ë¼ì ¸ë²„ë¦¼..
    
    ![https://user-images.githubusercontent.com/46811558/156016243-4f2a65fa-ecda-4a84-8f5c-c9d0fa3f5db0.JPG](https://user-images.githubusercontent.com/46811558/156016243-4f2a65fa-ecda-4a84-8f5c-c9d0fa3f5db0.JPG)
    
- inference.py
    - resize : (96,128 : ê¸°ì¡´) â†’ (128,96 : train dafault) â†’ (384,384 : swin ëª¨ë¸)
    
     
    
    ![https://user-images.githubusercontent.com/46811558/156017503-0d9bce99-f597-42ec-a764-f7e597c606b3.JPG](https://user-images.githubusercontent.com/46811558/156017503-0d9bce99-f597-42ec-a764-f7e597c606b3.JPG)
    
- train.py
    - ì–´ì°¨í”¼ ëª…ë ¹ì–´ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ!
    
    ![https://user-images.githubusercontent.com/46811558/156018068-f7768e3d-62a1-4265-8fbc-8bce7bbcc519.JPG](https://user-images.githubusercontent.com/46811558/156018068-f7768e3d-62a1-4265-8fbc-8bce7bbcc519.JPG)
    
- loss.py
    - F1 loss ë¥¼ metricìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ classes=3 â†’18 ìˆ˜ì •!
        - ëŒ€íšŒ scoreê°€ f1ì´ë‹ˆ f1ìœ¼ë¡œ trainí•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ ..? ë¼ëŠ” ìƒê°ì—ì„œ
        - ì‘ìœ¼ë©´ ëœë‹¤ë‹ˆê¹Œ 2ëŠ”..? â†’ ì•ˆë¨!
    - ìˆ˜ì •í•˜ì§€ ì•Šì„ ê²½ìš°(ì˜¤ë¥˜)
        - class values must be smaller than num classes (ì„¸ì—°ë‹˜ ë² ì´ìŠ¤ë¼ì¸ ì´ì „ ëª¨ë¸)
        - The size of tensor a (n) must match the size of tensor b (18) at non-singleton dimension 1 (ì„¸ì—°ë‹˜ ë² ì´ìŠ¤ë¼ì¸ ëª¨ë¸, n : ì •ì˜ëœ classes)
    
    ![https://user-images.githubusercontent.com/46811558/156019099-8c5b022c-2ef8-4ef6-9493-03909070b454.JPG](https://user-images.githubusercontent.com/46811558/156019099-8c5b022c-2ef8-4ef6-9493-03909070b454.JPG)
    

# Loss ì„¤ëª…

- Loss ì„ ì •
    - Cross-Entropy : ë¶„ë¥˜ ë¬¸ì œì—ì„œ í”í•˜ê²Œ ì‚¬ìš©
    - Focal Loss : í™•ë¥ ì´ ë†’ì€ ì¼€ì´ìŠ¤ì—ëŠ” í™•ë¥ ì´ ë‚®ì€ ì¼€ì´ìŠ¤ë³´ë‹¤ Lossë¥¼ ë” í¬ê²Œ ë‚®ì¶”ëŠ” ë³´ìƒ â†’ ìš°ë¦¬ì˜ ë°ì´í„°ì— ë§ê²Œ Class Imbalanceì— ì ê²©!
    - LabelSmoothingLoss : Mislabeling dataë¥¼ ê³ ë ¤í•˜ê¸°ì—, ëª¨ë¸ ì¼ë°˜í™”ì— ì¢‹ì€ ì„±ëŠ¥
    - F1 loss : ëŒ€íšŒì—ì„œ Macro F1 scoreë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆœìœ„ ì‚°ì •

![F1 score ìˆ˜ì‹ , [**AI stage(í‰ê°€ ë°©ë²•](https://stages.ai/competitions/104/overview/evaluation))**](https://user-images.githubusercontent.com/46811558/156926611-69ad95f6-94e2-4790-8f4d-a4629be952ed.JPG)

F1 score ìˆ˜ì‹ , [**AI stage(í‰ê°€ ë°©ë²•](https://stages.ai/competitions/104/overview/evaluation))**

ìœ„ì˜ ì´ë¯¸ì§€ëŠ” F1 scoreì˜ ìˆ˜ì‹ìœ¼ë¡œ, ëŒ€íšŒì—ì„œ ì‚¬ìš©í•˜ëŠ” Macro F1 scoreëŠ” ê° í´ë˜ìŠ¤ ê°’ì— ëŒ€í•´ ë³„ë„ì˜ F1 scoreë¥¼ ê³„ì‚° í•œ ë‹¤ìŒ í‰ê· ì„ ë‚¸ë‹¤. F1 lossë¥¼ ì„ íƒí•œ ì´ìœ ëŠ”,ëŒ€íšŒì—ì„œ Macro F1 scoreë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆœìœ„ë¥¼ ì‚°ì •í•˜ê¸°ì— ëŒ€íšŒì˜ ì·¨ì§€ì™€ ë§ì§€ ì•Šì„ê¹Œ í•˜ëŠ” ìƒê°ê³¼, train ê³¼ì •ì—ì„œ ë‚˜ì˜¤ëŠ” ë§ì€ ëª¨ìˆ˜ë“¤ì´ ì¤‘ì‹¬ê·¹í•œ ì •ë¦¬ë¥¼ í†µí•´ ì •ê·œë¶„í¬ë¡œ ê·¼ì‚¬í™”ë˜ê³ , ì´ë¥¼ ìŒìˆ˜í™”í•œë‹¤ìŒ 1ì„ ë”í•´ì¤„ê²½ìš°, í™•ë¥ ë¡œ ê°€ì •í•  ìˆ˜ ìˆë‹¤ëŠ” ìƒê°ìœ¼ë¡œ ë‹¨ìˆœí•˜ê²Œ ì ‘ê·¼í•˜ì˜€ë‹¤. 

ì´í›„ì—ëŠ” ìˆ˜ì‹ì— ëŒ€í•´ì„œ ê³µë¶€í–ˆê³ , [**ìºê¸€](https://www.kaggle.com/rejpalcz/best-loss-function-for-f1-score-metric)** ê³¼ **[ê¸°ìˆ ë¸”ë¡œê·¸](https://towardsdatascience.com/the-unknown-benefits-of-using-a-soft-f1-loss-in-classification-systems-753902c0105d)** ì— ë”°ë¥´ë©´, lossë¥¼ metricìœ¼ë¡œ ì“°ëŠ” ê²ƒì€ ìµœê³ ì˜ ì„ íƒì´ë©°, ì„ê³„ê°’ì„ ì§€ì •í•˜ê±°ë‚˜ F1 scoreë¥¼ loss í•¨ìˆ˜ì— í¬í•¨ì‹œí‚¤ë©´ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ê·¼ê±°ê°€ ë’·ë°›ì¹¨ ë˜ì–´ìˆë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì“°ì´ì§€ ì•ŠëŠ”ë°, ê·¸ ì´ìœ ëŠ” f1 lossí•¨ìˆ˜ëŠ” ë¯¸ë¶„ì´ ë¶ˆê°€ëŠ¥í•œ cost functionì´ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ, ì£¼ì–´ì§„ F1 score ì‹ì„ 0ê³¼ 1ì˜ ì •ìˆ˜ê°’ ì˜ˆì¸¡ì´ ì•„ë‹Œ í™•ë¥  ê°’ìœ¼ë¡œ ëŒ€ì‹ í•˜ì—¬ ì˜ˆì¸¡í•  ê²½ìš° ë¯¸ë¶„ì´ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´, ground truthê°€ 1ì´ê³  ëª¨ë¸ì˜ ì˜ˆì¸¡ì´ 0.4ì¼ ê²½ìš°, ìš°ë¦¬ëŠ” 0.4ì˜ true positiveì™€ 0.6ì˜ false negativeë¥¼ ì–»ì„ ìˆ˜ ìˆê³ , ë§Œì•½ ground truthê°€ 0ì´ê³  ëª¨ë¸ì˜ ì˜ˆì¸¡ì´ 0.4ì¼ ê²½ìš°, 0.6ì˜ true negativeì™€ 0.4ì˜ false positive ê°’ì„ ì–»ì„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ëŸ¬í•œ í™•ë¥ ì˜ˆì¸¡ì„ í†µí•´ f1 lossí•¨ìˆ˜ë¥¼ ë°‘ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë¯¸ë¶„ì´ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

![Macro F1 score í•¨ìˆ˜ ê°œí˜• , [**ê¸°ìˆ  ë¸”ë¡œê·¸**](https://towardsdatascience.com/the-unknown-benefits-of-using-a-soft-f1-loss-in-classification-systems-753902c0105d)](https://user-images.githubusercontent.com/46811558/156926578-dd03d9f5-6662-4c3c-b43b-e11451cb7530.JPG)

Macro F1 score í•¨ìˆ˜ ê°œí˜• , [**ê¸°ìˆ  ë¸”ë¡œê·¸**](https://towardsdatascience.com/the-unknown-benefits-of-using-a-soft-f1-loss-in-classification-systems-753902c0105d)

ë˜, baselineì˜ loss.pyíŒŒì¼ì— ìˆëŠ” lossì‹ì„ ì°¸ê³ í•˜ë©´, return ê°’ì´ 1-f1.mean()ì´ê¸°ì— (1-f1)ì„ ìµœì†Œí™” í•œë‹¤ëŠ” ê²ƒì€ f1 scoreë¥¼ ìµœëŒ€í™” í•˜ëŠ”ê²ƒê³¼ ê°™ê¸°ì—, ëŒ€íšŒì˜ ì·¨ì§€ì— ë§ì„ ê²ƒì´ê³  ì‹¤ì œë¡œ ì„±ëŠ¥í–¥ìƒì— í° ë„ì›€ì„ ì£¼ì—ˆë‹¤.

# ë°ì´í„°

- ê°œì¸
    - ë°ì´í„° (**ğŸ™ì‹œí˜„ë‹˜,íš¨ì„ë‹˜,ì˜ì„ë‹˜,ì£¼ì˜ë‹˜) â†’ í† ë¡ ê²Œì‹œíŒ EDA ë° íŒ€ ë…¸ì…˜ ì°¸ê³ !**
        - 1498-1 , 4432 : male â†’ female
        - 6359 ~ 6364 : female â†’ male
        - 20, 4418, 5227 : normal â†” incorrect
        - ê±´ë“œë¦¬ê³  ì‹¶ì§€ë§Œ, ì–´ë–»ê²Œ ê±´ë“œë ¤ì•¼ í• ì§€ë„ ëª¨ë¥´ê² ëŠ” ë°ì´í„°ê°€ ë§ì•˜ë‹¤..
            - mask ì“´ê±°ê°™ì€ë° incorrect..
        - ì°¸ê³ 
            - [**í† ë¡ ê²Œì‹œíŒ](https://stages.ai/competitions/104/discussion/talk) ,**      â¬‡ï¸
                
                [Mask Classfication Dataset EDA](https://www.notion.so/Mask-Classfication-Dataset-EDA-dcb4f73dea3d450da0305eea2b12a608)
                
- íŒ€(SOTA)
    - ë°°ê²½ ì œê±° ë°ì´í„°(**ğŸ™ìƒë ¬ë‹˜)**
    - êµ¬ê¸€ ë“œë¼ì´ë¸Œ(ì €ì‘ê¶Œ ìƒ ë¹„ê³µê°œ)

# ì œì¶œ í‘œ

- [**Ai ìŠ¤í…Œì´ì§€**](https://stages.ai/competitions/104/submission/my)
- í•­ëª© : ì œì¶œë²ˆí˜¸, ëª¨ë¸ , ë©”ëª¨, ì œì¶œ score(f1, acc) ,acc(train,val) , loss(train,val) , config.json, ì•„ì‰¬ìš´ ì  + ëŠë‚€ ì 

| ì œì¶œ ë²ˆí˜¸ |          ëª¨ë¸  |                 ë©”ëª¨  |             f1                  (public â†’ private) |            acc                            (public â†’ private) |        acc            (train  ,  val) |       loss                (train  ,  val) |                              config.json                                                                                              ã€€              (SOTA ë¹„êµí•˜ì—¬ ë‹¤ë¥¸ ì )  |     ì•„ì‰¬ìš´ ì  + ëŠë‚€ ì  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
|    1 |         Eff b6 | train,val ê·¸ë˜í”„ëŠ” ì¢‹ë˜ë°.. | 0.4896 â†’ 0.4872 | 63.2063 â†’ 61.7619 | 90  ,  89.31 | ê¸°ë¡ ì§€ì›€ã…  | batch : 64(valid ë„)  , optm : Adam ,epoch : 10, loss : focal , lr : 1e-5 | ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ(ë…¼ë¬¸ì— ë§ì¶”ì§€ ì•Šê³  ì•„ë§ˆ 128,96?) |  |
|    2 |         Eff b7 | ì˜¤ë²„í”¼íŒ… ëíŒì™•..; | 0.6077 â†’ 0.5864 | 68.2063 â†’ 67.7619 | 99  ,  96.80 | ê¸°ë¡ ì§€ì›€ã…  | (1) + epoch : 40 | (1)ì™€ ê°™ìŒ |  |
|    3 |         Eff b7 | custom augmentation ì¶”ê°€ + age band : 25,55 | 0.5891 â†’ 0.5584 | 64.4286 â†’ 63.7143 | 99  ,  92.83 | ê¸°ë¡ ì§€ì›€ã…  | (2) + custom Augmentation | (1)ì™€ ê°™ìŒ + (25,55)ëŠ” ì•„ë‹ˆêµ°! |  |
|    4 |         Eff b7 | Base augmentation ê·¸ëŒ€ë¡œ + age band : 27,57 | 0.6332 â†’ 0.5983 | 68.3968 â†’ 66.5238 | ê¸°ë¡ ì§€ì›€ã…  | ê¸°ë¡ ì§€ì›€ã…  | (2) + batch : 32 | (1)ì™€ ê°™ìŒ + (27,57)ì€ ê·¸ë‚˜ë§ˆ..? |  |
|    5 |          Vit  |    age band : 27,57  | 0.2781 â†’ 0.2719 | 37.0635 â†’ 35.6190 | ê¸°ë¡ ì§€ì›€ã…  | ê¸°ë¡ ì§€ì›€ã…  | (1) + epoch : 3 + resize : 224,224 | ë‹¤ë¥¸ ë¶„ë“¤ì€ ì˜ ë˜ë˜ë°.. |  |
|    6 | Swin Transformer | age band : 29,57(ğŸ™íƒœì¼ë‹˜)     choices â†’ sample(ğŸ™ì£¼ì˜ë‹˜)  ì—¬ê¸°ê¹Œì§€ (base_v2) | 0.6621 â†’ 0.6527 | 73.8571 â†’ 74.3016 | ê¸°ë¡ ì§€ì›€ã…  | ê¸°ë¡ ì§€ì›€ã…  | epoch : 1 , dataset : MaskSplitByProfileDataset, augmentation : CustomAugmentation , batch : 16 , optm : AdamW ,lr : 2e-5, loss : f1 , lr_decay_step : 4 ,val_ratio : 0.2 | epoch ì™œ 1ë¡œí–ˆì§€.. |  |
|    7 | Swin Transformer + Lightning | ì´ì œë¶€í„´ (6)ê³¼ ë™ì¼(ğŸ™ì„¸ì—°ë‹˜)  | 0.7763 â†’ 0.7623 | 81.7619 â†’ 81.1270 | 87  ,  83 | 0.57  ,  0.38 | (6) + epoch : 5 | ìµœê³  ê¸°ë¡ ë‹¬ì„±! |  |
|    8 | Swin Transformer + Lightning |  | 0.7594 â†’ 0.7402 | 79.8730 â†’ 79.3333 | 96  ,  83 | 0.53  ,  0.37 | (6) + epoch : 15 | ì˜¤ë²„í”¼íŒ…ì˜ í‘œë³¸.. |  |
|    9 | Swin Transformer + Lightning |  | 0.7594 â†’ 0.7402 | 79.8730 â†’ 79.3333 | 96  ,  85 | 0.53  ,  0.36 | (6) + epoch : 13 | 15ë²ˆ ëŒë¦¬ë©´ ì˜¤ë²„í”¼íŒ… ë‚˜êµ¬ë‚˜.. 13ë²ˆ ëŒë¦°ë‹¤ë©´ ..? â†’ ì—¬ì „íˆ ì˜¤ë²„í”¼íŒ…, ì œì¶œí•  ë•Œ ë¹„êµí•´ë³´ê³  ë‚´ì.. |  |
|   10 | Swin Transformer + Lightning |  | 0.7414 â†’ 0.7281 | 78.8413 â†’ 79.0000 | 93  ,  83 | 0.5  ,  0.37 | (6) + epoch : 7 | 7ë²ˆ ëŒë¦¬ë©´ ë” ë‚®ê²Œ ë‚˜ì˜¤ë„¤ ..? â†’ ì‹¤ì‹œê°„ìœ¼ë¡œ best.pth íŒŒì¼ í™•ì¸í•´ì•¼ê² ë„¤ |  |
|   11 | Swin Transformer + Lightning |  | 0.7763 â†’ 0.7623 | 81.7619 â†’ 81.1270 | 92  ,  83 | 0.57  ,  0.38 | (6) + epoch : 6 | ë¬´ì§€ì„±ìœ¼ë¡œ 6ë²ˆëŒë¦¼(ìì • ì§ì „ ê¸°íšŒ ë‚¨ìŒ) â†’ ë¶„ì„ í›„ ì œì¶œí•˜ì..ê·¸ë˜í”„ ë´¤ìœ¼ë©´ 3ë²ˆ ëŒë¦°ê²Œ ìµœì ì¸ ê±¸ ì•Œì•˜ì„í…ë°.. |  |
|   12 | Swin Transformer + Lightning | age band ì‹¤í—˜ â†’ 29,58 | 0.7808 â†’ 0.7741 | 82.0635 â†’ 81.9524 | 90  ,  86 | 0.57  ,  0.38 | (6) + epoch : 5 + ageband : 29,58 | ì´ˆì‹¬ìœ¼ë¡œ ëŒì•„ì™€ ê¸°ë³¸ì„¸íŒ… + ageë°´ë“œ ìˆ˜ì • â†’ ê¸°ë¡ ê°±ì‹ , train vs val ë¹„êµí•´ì„œ ê·¸ë˜í”„ë§Œ ë´ë„, â€˜ì´ê²Œ ì¼ë°˜í™”ê°€ ì˜ëœê±°êµ¬ë‚˜â€™ ë°”ë¡œ ì•Œ ìˆ˜ ìˆìŒ(train vs valì˜ ê·¸ë˜í”„ ê°„ê²© ì°¨ì´) |  |
|   13 | Swin Transformer + Lightning | age band ì‹¤í—˜ â†’ 29,59 | 0.7727 â†’ 0.7651 | 82.3175 â†’ 81.9683 | 91  ,  89 | 0.55  ,  0.3867 | (6) + epoch : 5 + ageband : 29,59 | ë‚´ ëª¨ë¸ ê¸°ì¤€ 29,58ì´ ìµœì ì´ê² êµ°! |  |
|   14 | Swin Transformer + Lightning | age band 29,57ë¡œ íšŒê·€(age bandì˜ ìµœì ì„ ì•Œì•˜ìœ¼ë‹ˆ.. ë‹¤ë¥¸ê²ƒì„ ì¡°ì ˆí•´ë³¼ê¹Œ? â†’ epoch:3) | 0.7763 â†’ 0.7623 | 81.7619 â†’ 81.1270 | 86  ,  83 | 0.60  ,  0.42 | (6) + epoch : 3 | ë¬´ì§€ì„± ì‹¤í—˜ ë . ì‹¤í—˜ê´€ë¦¬ì˜ ì¤‘ìš”ì„± â†’ í•˜ë‚˜ë¥¼ ë³€ê²½í–ˆìœ¼ë©´ ë‚˜ë¨¸ì§€ë„ ë‹¤ì‹œ ë³€ê²½í•´ì•¼ í•˜ë‚˜? â†’ ê·¸ëŸ¬ì§€ë§ê³  AutoML ë˜ëŠ” ìµœì ì˜ íŒŒë¼ë¯¸í„° ì„¸íŒ…í›„ì— ë¹„êµí•˜ì(epochì€ ê·¸ë˜í”„ë§Œ ë´ë„ ì•„ë‹ˆê¹Œ) + ì´ë•Œ ë¨¸ë¦¬ ë³µì¡í•˜ê¸° ì‹œì‘ |  |
|   15 | Swin Transformer + Lightning | ìµœì ìœ¼ë¡œíšŒê·€(12) + val_ratio íŒ€ì›ë¼ë¦¬ ë‹¤ë¥¸ê±° í™•ì¸í•˜ê³  0.2 â†’0.1 | 0.7679 â†’ 0.7430 | 81.0317 â†’ 80.3175 | 90  ,  86 | 0.56  ,  0.38  | (12) + val_ratio : 0.2 â†’ 0.1 | íƒœì¼ë‹˜ ë°ì´í„°ì˜ ê²½ìš°ì—” ìƒ˜í”Œë§ì„ í†µí•´ í•™ìŠµë°ì´í„° ë¶€ì¡± â†’ val ratio ê°€ 0.1ì¸ê²Œ ì í•©, í•˜ì§€ë§Œ ë‚´ ë°ì´í„°ì˜ ê²½ìš°ëŠ” ì¶©ë¶„í•˜ê¸°ì— val ratioë¥¼ ì¤„ì´ë©´ ì˜¤ë²„í”¼íŒ…ì´ ì¼ì–´ë‚  ìˆ˜ ìˆìŒ!(f1 score ê°ì†Œí•œê²Œ í¼), í•˜ì§€ë§Œ ì‹¤í—˜ê´€ë¦¬ ë³´ë©´ì„œ ê¼¼ê¼¼í•˜ê²Œ ë‹¤ë¥¸ ì  íŒŒì•…í•œ ê±´ ì˜í•¨! |  |
|   16 | Swin Transformer + Lightning | (15) + epoch 8 | 0.7723 â†’ 0.7585 | 81.4762 â†’ 81.3016 | 94  ,  87 | 0.55  ,  0.40 | (12) + val_ratio : 0.2 â†’ 0.1 + epoch : 5 â†’ 8 | val ratioë¥¼ ì¤„ì´ê³  epochì„ 8ë¡œ ëŠ˜ë¦¬ë©´, ì˜¤íˆë ¤ ì˜¤ë²„í”¼íŒ…ì´ ë‚ ê±°ë¼ê³  ìƒê°í–ˆëŠ”ë°, ì™œ ë” ëŠ˜ì§€..? ì•Œë‹¤ê°€ë„ ëª¨ë¥´ê² ë„¤ |  |
|   17 | Swin Transformer + Lightning | ìµœì ìœ¼ë¡œíšŒê·€(12) + Test Data Center Crop | 0.7822 â†’ 0.7731 | 81.6508 â†’ 81.5397 | (12) ê·¸ëŒ€ë¡œ â†’test data setë§Œ ìˆ˜ì •í–ˆìœ¼ë‹ˆ | (12) ê·¸ëŒ€ë¡œ â†’test data setë§Œ ìˆ˜ì •í–ˆìœ¼ë‹ˆ | (12) + Test Data Set Center Crop | ëŒ€íšŒë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ, ì´ë²ˆ ëŒ€íšŒì˜ ê²½ìš°ëŠ” ì•”í˜¸í™”ëœ íŒŒì¼ë¡œ í…ŒìŠ¤íŠ¸ë°ì´í„° ì œê³µ â†’ ì‚´í´ë³¸í›„ì— í•™ìŠµë°ì´í„°ì™€ ë‹¤ë¥¼ê²Œì—†ë„¤? â†’ ë°ì´í„°ì „ì²˜ë¦¬ í•™ìŠµê³¼ ë™ì¼í•˜ê²Œ í•´ë„ ë ë“¯! â†’ ê°œì¸ ìµœê³ ê¸°ë¡ ê°±ì‹ ! |  |
|   18 | Swin Transformer + Lightning | ìµœì ìœ¼ë¡œíšŒê·€(12) + Test Dataì— Center Crop, Color Jitter | 0.7776 â†’ 0.7670 | 81.2857 â†’ 81.0794 | (12) ê·¸ëŒ€ë¡œ â†’test data setë§Œ ìˆ˜ì •í–ˆìœ¼ë‹ˆ | (12) ê·¸ëŒ€ë¡œ â†’test data setë§Œ ìˆ˜ì •í–ˆìœ¼ë‹ˆ | (12) + Test Data Set Center Crop + Test Data Set Color Jitter | ì„¼í„°í¬ë¡­ì´ ì„±ê³µí–ˆìœ¼ë‹ˆ, í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ íŠ¸ë ˆì¸ ë°ì´í„°ì™€ ì•„ì˜ˆ ê°™ê²Œ..? â†’ ì»¬ëŸ¬ì§€í„°ëŠ” ì•ˆë˜ë„¤.. ì–´ë–»ê²Œ í•´ì„í•´ì•¼ í•˜ë‚˜(í‰ê°€ ë°ì´í„°ì— ë…¸ì´ì¦ˆ x..? í•™ìŠµ ë°ì´í„°ì™€ ë¹„ìŠ·í•˜ë‹¤ ..?) |  |

**<ì‹¤í—˜ ë©”ëª¨ â†’ ìœ„ì˜ í‘œ ê¸°ì¤€>**

17ë²ˆ : 2958nogaussianval0.2e5t_ccrop

15ë²ˆ : 2958val0.1 

16ë²ˆ : 2958val0.1epochs8real 

ì œì¶œxì‹¤í—˜ë§Œ :  2960val0.2nogaussian â†’ age : 29,60 + SOTA ë™ì¼

ì œì¶œxì‹¤í—˜ë§Œ :  addgaussiannoise â†’ train ì‹œì— AddGaussiannoise ì¶”ê°€ + SOTAë™ì¼

12ë²ˆ : f1loss_exp19=exp19

ì œì¶œxì‹¤í—˜ë§Œ :  focal â†’ SOTA ë™ì¼ + lossë§Œ focal â†’ ë°œí‘œìë£Œìš©

---

exp 2             : epochs   5,  age : 29,57  â€”> 0.7763_81.7619

exp 13           : epochs   6,  age : 29,57  â€”> 0.7763_81.7619

exp 17(exp9) : epochs   7 , age : 29,57  â€”> 0.7414_78.8413

exp 4             : epochs 15 , age : 29,57  â€”> 0.7594_79.8730

exp 5             : epochs 13 , age : 29,57  â€”> 0.7594_79.8730

exp 19           : epochs 5   , age : 29,58  â€”> 0.7808_82.0635

exp 20           : epochs 5   , age : 29,59  â€”> 0.7727_82.3175

exp 27           : epochs 3   , age : 29,57  â€”> 0.7763_81.7619

---

# ì‹¤í—˜

- **ì‹¤í—˜1ğŸ™íƒœì¼ë‹˜**
    - epochs 5 â†’ ageband ìˆ˜ì • (29,57) vs (29,58) vs (29,59)
        - (30,60) â†’ ( 25,27,28,29,30 ä¸­ 1ê°œ  , 55,58,59,60 ä¸­ 1ê°œ)
        - SOTA ê¸°ì¤€ 29,58 ì´ ì œì¼ ì˜ ë‚˜ì˜´ : 0.7822 ,81.6508
    
    ![https://user-images.githubusercontent.com/46811558/156181012-7989f23a-5b2d-44d7-afac-c04e76e6a3d2.JPG](https://user-images.githubusercontent.com/46811558/156181012-7989f23a-5b2d-44d7-afac-c04e76e6a3d2.JPG)
    
    - ì œì¶œí•œ ê²°ê³¼ë¥¼ ë³´ë©´ , valì˜ ê²°ê³¼ ê·¸ëŒ€ë¡œ ë”°ë¼ê°€ëŠ” ë“¯í•˜ë‹¤. exp20ì„ë³´ë©´ ì œì¶œê²°ê³¼ accëŠ” ì œì¼ë†’ê³ , f1ì€ ì œì¼ ë‚®ì€ë° ì‹¤ì œ ì œì¶œ ê²°ê³¼ë„ ê·¸ëŸ¬í•˜ë‹¤.
- **ì‹¤í—˜ 2ğŸ™íƒœì¼ë‹˜**
    - age band (29,57) ê³ ì • â†’ epochs ìˆ˜ ë³€í™”
        - ê²°ê³¼ : ê±°ê¸°ì„œ ê±°ê¸°~
        - íƒœì¼ë‹˜ ì˜ê²¬ ë“£ê³  lossë¡œ ê¸°ì¤€ ì¡ìŒ
        - epochs : 3,5,6,7,8,13,15 ë¹„êµ
        - ë°‘ì˜ ì´ë¯¸ì§€ëŠ” ê°€ì¥ ê¸´ epoch 15 â†’ ë§ì´ í•  ìˆ˜ë¡ ë³µì¡í•œ ê·¸ë˜í”„ â†’ ì˜¤ë²„í”¼íŒ…
            - ì„±ëŠ¥í–¥ìƒì´ ìˆì—ˆë˜ ì‹¤í—˜ë§ˆë‹¤ epochë³€í™”í•´ì„œ ì œì¶œí•˜ëŠ” ê²ƒë³´ë‹¤ ê·¸ë˜í”„ ë´ê°€ë©° best.pth ì‹œê°„ í™•ì¸í•˜ê³  ì„±ëŠ¥í™•ì¸(csvë¹„êµ)í›„ì— ì œì¶œí–ˆì–´ì•¼í•¨.. ~~ì œì¶œ2ë²ˆë‚ ë¦¼~~
            - ê²°ë¡ ì ìœ¼ë¡œ epoch 3ì—ì„œ ì´ë¯¸ ìµœê³ ì !
        
        ![https://user-images.githubusercontent.com/46811558/156908331-c2d3e014-2d28-4987-bd2d-891b17041827.JPG](https://user-images.githubusercontent.com/46811558/156908331-c2d3e014-2d28-4987-bd2d-891b17041827.JPG)
        
- **ì‹¤í—˜ 3ğŸ™ë‚˜^^**
    - age band(29,58) ê³ ì • â†’  val_ratio ë³€í™” (0.1 vs 0.2)
        - ë‹¤ë¥¸ ë¶„ë“¤ config.json ì—ì„œ ë‹¤ë¥¸ ì  ë°œê²¬! **(ë¿Œë“¯)**
        - ê¸°ë¡ ì§€ì›Œì„œ, val 0.1ë¡œí•œê±´ epoch 8ë¡œ ë¹„êµ
            - íƒœì¼ë‹˜ ê¸°ë¡ê°±ì‹  ê°™ì€ ê²½ìš°ëŠ”, ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ ì¸í•œ ë°ì´í„°ë¶€ì¡± â†’ 0.1ì´ íš¨ê³¼ O
            - ë‚´ ë°ì´í„°ëŠ” , ì›ë³¸ ë°ì´í„°ì´ë‹¤ë³´ë‹ˆ ë°ì´í„°ê°¯ìˆ˜ ì¶©ë¶„â†’ 0,1ì´ íš¨ê³¼ X
        
        ![https://user-images.githubusercontent.com/46811558/156908437-47b8d710-f308-4348-9b72-a4f6b19eefd1.JPG](https://user-images.githubusercontent.com/46811558/156908437-47b8d710-f308-4348-9b72-a4f6b19eefd1.JPG)
        
- **ì‹¤í—˜ 4**
    - ë°°ê²½ì œê±°Xëª¨ë¸ SOTAê³ ì • â†’ trainì—ë§Œ AddGaussiannoise
        - ì¡°ì›ë¶„ë“¤ì´ ì‹¤í—˜ í›„ ì œì¶œ â†’ ì„±ëŠ¥ ìƒìŠ¹ X â†’ì œì¶œ X
        - ì‹¤ì œë¡œ ë°‘ì˜ ê·¸ë˜í”„ë§Œ ë´ë„ ì¢‹ì§€ ì•Šì•„ë³´ì„..â†’ ê°œí˜•ì€ ì´ìœë°.. í˜¹ì‹œ ì œì¶œí–ˆë‹¤ë©´ ì¼ë°˜ì„±ì„ ë†’ì˜€ì„ìˆ˜ë„?
        
        ![https://user-images.githubusercontent.com/46811558/156908547-748d4590-8f18-434b-ab7c-c05d5452ec14.jpg](https://user-images.githubusercontent.com/46811558/156908547-748d4590-8f18-434b-ab7c-c05d5452ec14.jpg)
        
- **ì‹¤í—˜ 5ğŸ™ê·œë²”ë‹˜**
    - ë°°ê²½ì œê±°Xëª¨ë¸ SOTAê³ ì • â†’ testì— CenterCrop ì¶”ê°€!
        - í…ŒìŠ¤íŠ¸ ë°ì´í„°ë§Œ ê±´ë“œë ¸ìœ¼ë¯€ë¡œ, í•™ìŠµ ê·¸ë˜í”„ëŠ” ë™ì¼!
        - 0.7808 â†’ 0.7822ë¡œ ê°œì¸ìµœê³ ê¸°ë¡ ê°±ì‹ !
        - í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ í•™ìŠµë°ì´í„°ë‘ ìƒë‹¹íˆ ë¹„ìŠ·í•˜êµ°!
- **ì‹¤í—˜ 6**
    - ë°°ê²½ì œê±°Xëª¨ë¸ SOTAê³ ì • â†’ testì— CenterCrop+Color Jitter ì¶”ê°€!(train Augmentationê³¼ ë™ì¼ í™˜ê²½)
        - í…ŒìŠ¤íŠ¸ ë°ì´í„°ë§Œ ê±´ë“œë ¸ìœ¼ë¯€ë¡œ, í•™ìŠµ ê·¸ë˜í”„ëŠ” ë™ì¼!
        - 0.7808 â†’ 0.7776ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ..
        - í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ í•™ìŠµë°ì´í„°ë‘ ìƒë‹¹íˆ ë¹„ìŠ·í•˜ì§€ë§Œ, Color JitterëŠ” í•™ìŠµì‹œì—ë§Œ ì¨ì•¼í•˜ê² êµ°!
- **ì‹¤í—˜ 7**
    - ë°°ê²½ì œê±°Xëª¨ë¸ SOTAê³ ì •  â†’ random seed ë°”ê¾¸ê¸° (ìš´ë¹¨!)
        - ë§¤ë²ˆ ë‹¤ë¥¼ ë“¯..?

# ì‹œë„

- ëª¨ë¸
    - vgg19bn
        - ì²˜ìŒìœ¼ë¡œ ì ìš©ì´ ê°€ëŠ¥í•œ ëª¨ë¸ ì´ì—ˆì§€ë§Œ, ì„±ëŠ¥ì´ ê·¸ë ‡ê²Œ ì¢‹ì§„ ì•ŠìŒ
    - efficientnet b4,b6,b7
        - accê¸°ì¤€ 70%ì „í›„ë¡œ ì²˜ìŒ ì ‘í•˜ê²Œ í•´ì¤€ ëª¨ë¸
    - Vit
        - ìƒê°ë³´ë‹¤ ì˜ ì•ˆë‚˜ì˜´..
    - Swin transformer + Pytorch Lightning
        - ëª¨ë¸ ìµœê³ !
        - ì—°ì‚° ì†ë„ ë°˜í† ë§‰ìœ¼ë¡œ ì¤„ì—¬ì¤Œ
- loss
    - focalloss
        - ë¶ˆê· í˜•í•œ í´ë˜ìŠ¤ì˜ ë°ì´í„°ì— íš¨ê³¼ì ì´ë¼ í–ˆì§€ë§Œ , f1 lossê°€ í›¨ì”¬ ì˜ ë‚˜ì˜´
    - Label Smoothing loss
        - baseline codeì—ëŠ” smoothing 0 â†’ Cross Entropyì™€ ë‹¤ë¥¼ê²Œì—†ìŒ
        - f1 lossê°€ ë” ì˜ ë‚˜ì˜´!
- ë°ì´í„°
    - age band ìˆ˜ì •
        - (30,60) â†’ ( 25,27,28,29,30 ä¸­ 1ê°œ  , 55,58,59,60 ä¸­ 1ê°œ)
            - SOTA ê¸°ì¤€ 29,58 ì´ ì œì¼ ì˜ ë‚˜ì˜´ : 0.7808 ,82.0635
- ë°ì´í„°ì…‹
    - ë°°ê²½ì œê±° â†’ ìƒë ¬ë‹˜ ì°¸ê³ 
    - EDA í›„
        - mislabeling ìˆ˜ì •
        - ì• ë§¤í•œ ë¶€ë¶„ì€ ê·¸ëƒ¥ ê±´ë“œë¦¬ì§€ ì•ŠìŒ!

# íšŒê³ 

## <ëŠë‚€ ì >

- í…ì„œë³´ë“œ ëª» ë¯¿ê² ë‹¤.. effb7í–ˆì„ ë•Œ, train 99 val 97 ë‚˜ì˜¤ê¸¸ë˜ ê¸°ë¡ ê°±ì‹  í•  ì¤„..
    - (ê¸°ë¡ ì§€ì›Œì„œ ëª» ë³´ì§€ë§Œ) ë¶„ëª… overfitting ì¼ì–´ë‚˜ì„œ , epochs 30ìœ¼ë¡œ í•´ë„ 10ì¯¤ì— ì €ì¥ë˜ì—ˆì„ ìˆ˜ë„
    - pthíŒŒì¼ ì €ì¥ë˜ëŠ” ì‹œê°„ì„ ì˜ ë´¤ì–´ì•¼ í•¨. epochs ë¬´ì§€ì„±ìœ¼ë¡œ ëŠ˜ë¦°ë‹¤ê³  íš¨ìœ¨ì ì´ì§„ ì•ŠìŒ.
- Pytorch Lite ì“°ê³ ë‚˜ì„œ ë‚´ ìƒê°ì—ëŠ” ê°™ì€ ì„¸íŒ…ì´ë¼ ìƒê°í–ˆì§€ë§Œ, ì†ë„ë„ ë¹ ë¥´ê³  ì„±ëŠ¥ë„ ìƒìŠ¹
- ì„±ëŠ¥ì´ ì˜ë‚˜ì™€ë„ ë¨¸ë¦¬ê°€ ì•„í”„ë‹¤.
    - ì™œ ì˜ ë‚˜ì˜¤ëŠ”ì§€? â†’ XAI ê³µë¶€í•˜ê¸°..(Gradient Cam) **ğŸ™ê·œë²”ë‹˜**
    - ì„±ëŠ¥ì„ ë” ë†’ì´ê¸° ìœ„í•´ ì¸ìë“¤ ìˆ˜ì • (optimizer,batch size,lr,epoch, step,decay ë“±ë“± ë„ˆë¬´ ë§ìŒ) â†’ ì§€ìˆ˜ ìŠ¹ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ë‹ˆ .. AutoML í•„ìˆ˜ë‹¤..
- ì œì¶œ í•  ë•Œ annotation í•„ìˆ˜!
    - ë°”ë³´ ê°™ì´ ë˜‘ê°™ì€ ì œì¶œ 2ë²ˆì´ë‚˜ í•¨.. ~~Sorry to ë‚´ê°€ë„¤ê°€..~~
    - SOTA ëª¨ë¸ê³¼ ê²€ì¦ í•´ì£¼ëŠ” ì½”ë“œ ì ˆì‹¤!**ğŸ™ì‹œí˜„ë‹˜**

## <ë†’ì€ ë“±ìˆ˜ì˜ ìš”ì¸(ê°œì¸ì ì¸ ìƒê°â†’ë°œí‘œ ìë£Œ ëª©ì°¨ë¡œ !)>

- í”„ë¡œê·¸ë¨
    - Swin Transformer
    - f1 loss
    - Pytorch Lite
- ë°ì´í„°
    - ë°°ê²½ì œê±°
    - EDAë¥¼ í†µí•œ mislabeling í•´ê²°
    - age band ìˆ˜ì • ë° ìƒ˜í”Œë§
    - random.choices â†’ random.sample
- ì»¤ë®¤ë‹ˆì¼€ì´ì…˜
    - ì‹¤í—˜ ê²°ê³¼ ê³µìœ 
    - ì½”ë“œ ê³µìœ 
    - ì§ˆì˜ì‘ë‹µ

## <ê¶ê¸ˆì¦>

- ë² ì´ìŠ¤ë¼ì¸ì„ ë§Œë“œì‹  ë¶„ë“¤ì˜ ì—¬ëŸ¬ ì½”ë“œë¥¼ ë„£ì€ ì´ìœ ?
- í…ì„œë³´ë“œ ìƒì˜ í•™ìŠµ ê·¸ë˜í”„ì—ì„œ early stopping ê¸°ì¤€ : **accuracy? vs loss?**
- ì™œ test size (96,128) ?
- ìµœì¢…ì œì¶œ ì¼ë°˜ì ì¸ ê´€í–‰?
    - SOTA 1
    - ì•™ìƒë¸”(Hard Voting) â†’ìƒìœ„ 8ê°œ
    - ~~ë°°ê²½ì œê±°í•˜ì§€ ì•Šì€ ë‚´ SOTA(ã„²ã…‚..)~~

## <í•´ê²°í•˜ì§€ ëª»í•œ ì´ìŠˆ>

- ëª¨ë¸ë³„ ì„±ëŠ¥
    - vgg ëª¨ë¸ì€ í•™ìŠµì‹œì—ë„ í° ì„±ê³¼ X
    - EfficientNet-b7ì˜ ê²½ìš° epoch30ë²ˆ â†’ train : 99, val : 97
        - best.pthë¥¼ í™•ì¸í•´ê°€ë©° í•™ìŠµí•˜ì§€ ëª»í•œ ì˜ëª» ë„ ìˆì§€ë§Œ, ì˜¤ë²„í”¼íŒ…ì˜ ì´ìŠˆ..?
- dataset.pyì˜ mean,std ê°’ì˜ ì˜ë¯¸ ..?
    - ì´ë¯¸ì§€ë„·
        - mean = [0.485, 0.456, 0.406]
        - std = [0.229, 0.224, 0.225[
    - ë§ˆìŠ¤í¬ ë°ì´í„° default
        - mean = [0.548, 0.504, 0.479]
        - std = [0.237, 0.247, 0.246]
    - ë°°ê²½ ì œê±° ë°ì´í„°(train) **ğŸ™ìƒë ¬ë‹˜**
        - ì „ì²´ ê¸¸ì´ : 18900
        - mean = [0.20629331, 0.17723827, 0.16767759]
        - std = [0.34968819, 0.30846628, 0.29714536]
    - ë°°ê²½ ì œê±° ë°ì´í„°(eval) **ğŸ™ìƒë ¬ë‹˜**
        - ì „ì²´ ê¸¸ì´ : 12600
        - mean = [0.20683326, 0.16344436, 0.15733106]
        - std = [0.35039557, 0.28900916, 0.27917677]
    - ì›ë³¸ ë°ì´í„°
        - êµ¬í•´ë³´ì§„ ì•Šì•˜ì§€ë§Œ, ì•„ë§ˆ ë§ˆìŠ¤í¬ ë°ì´í„°ì˜ defaultì¼ ë“¯(test ë°ì´í„°ë§Œ í•´ë´¤ëŠ”ë° ë¹„ìŠ·í•˜ê²Œ ë‚˜ì˜´)
